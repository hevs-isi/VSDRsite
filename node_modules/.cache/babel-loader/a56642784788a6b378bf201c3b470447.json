{"remainingRequest":"/home/amos/Bureau/VSDR_site/node_modules/babel-loader/lib/index.js!/home/amos/Bureau/VSDR_site/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/amos/Bureau/VSDR_site/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/amos/Bureau/VSDR_site/src/components/downloadData.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/amos/Bureau/VSDR_site/src/components/downloadData.vue","mtime":1617204143000},{"path":"/home/amos/Bureau/VSDR_site/.babelrc","mtime":1617204143000},{"path":"/home/amos/Bureau/VSDR_site/node_modules/cache-loader/dist/cjs.js","mtime":1622616452493},{"path":"/home/amos/Bureau/VSDR_site/node_modules/babel-loader/lib/index.js","mtime":1622616452469},{"path":"/home/amos/Bureau/VSDR_site/node_modules/cache-loader/dist/cjs.js","mtime":1622616452493},{"path":"/home/amos/Bureau/VSDR_site/node_modules/vue-loader/lib/index.js","mtime":1622616466449}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9PcHRpb24yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL29wdGlvbi5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9PcHRpb24gZnJvbSAiZWxlbWVudC11aS9saWIvb3B0aW9uIjsKaW1wb3J0IF9TZWxlY3QyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL3NlbGVjdC5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9TZWxlY3QgZnJvbSAiZWxlbWVudC11aS9saWIvc2VsZWN0IjsKaW1wb3J0IF9Db2xsYXBzZUl0ZW0yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2NvbGxhcHNlLWl0ZW0uY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfQ29sbGFwc2VJdGVtIGZyb20gImVsZW1lbnQtdWkvbGliL2NvbGxhcHNlLWl0ZW0iOwppbXBvcnQgX0NvbGxhcHNlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9jb2xsYXBzZS5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9Db2xsYXBzZSBmcm9tICJlbGVtZW50LXVpL2xpYi9jb2xsYXBzZSI7Cgp2YXIgX2NvbXBvbmVudDsKCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgppbXBvcnQgTENoZWNrYm94IGZyb20gIkAvY29tcG9uZW50cy9JbnB1dHMvQ2hlY2tib3giOwppbXBvcnQgZG93bmxvYWRDc3YgZnJvbSAidnVlLWpzb24tY3N2IjsKaW1wb3J0IHsgRm9ybUdyb3VwSW5wdXQgYXMgRmdJbnB1dCB9IGZyb20gIkAvY29tcG9uZW50cy9pbmRleCI7CmltcG9ydCBkYl9yZXEgZnJvbSAiQC9jb25zdGFudHMvaW5mbHV4X3JlcXVlc3RzLmpzb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRvd25sb2FkRGF0YSIsCiAgY29tcG9uZW50czogewogICAgTENoZWNrYm94OiBMQ2hlY2tib3gKICB9LAogIGNvbXBvbmVudDogKF9jb21wb25lbnQgPSB7CiAgICBkb3dubG9hZENzdjogZG93bmxvYWRDc3YKICB9LCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudCwgX0NvbGxhcHNlLm5hbWUsIF9Db2xsYXBzZSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50LCBfQ29sbGFwc2VJdGVtLm5hbWUsIF9Db2xsYXBzZUl0ZW0pLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudCwgIkxDaGVja2JveCIsIExDaGVja2JveCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50LCAiRmdJbnB1dCIsIEZnSW5wdXQpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudCwgX1NlbGVjdC5uYW1lLCBfU2VsZWN0KSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnQsIF9PcHRpb24ubmFtZSwgX09wdGlvbiksIF9jb21wb25lbnQpLAogIHByb3BzOiB7CiAgICBsb2NhdGlvbjogQXJyYXkKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZW5zb3JTdGF0ZTogJycsCiAgICAgIHNlbnNvcnM6IFtdLAogICAgICBqc29uX2RhdGE6IFtdLAogICAgICBzZW5zb3JfZGw6IGZhbHNlLAogICAgICBkb3dubG9hZF9oZWFkX3RlbXBfZGw6IGZhbHNlLAogICAgICBkb3dubG9hZF90YXJnZXRfdGVtcF9kbDogZmFsc2UsCiAgICAgIGRvd25sb2FkX2JhdHRlcnlfZGw6IGZhbHNlLAogICAgICBkb3dubG9hZF9SU1NJX2RsOiBmYWxzZSwKICAgICAgZG93bmxvYWRfU05SX2RsOiBmYWxzZSwKICAgICAgc2Vuc29yX2hlaTogZmFsc2UsCiAgICAgIGRvd25sb2FkX3Nub3dfaGVpZ2h0X2hlaTogZmFsc2UsCiAgICAgIGRvd25sb2FkX2h1bWlkaXR5X2hlaTogZmFsc2UsCiAgICAgIGRvd25sb2FkX2JhdHRlcnlfaGVpOiBmYWxzZSwKICAgICAgZG93bmxvYWRfUlNTSV9oZWk6IGZhbHNlLAogICAgICBkb3dubG9hZF9TTlJfaGVpOiBmYWxzZSwKICAgICAgZG93bmxvYWRfdGltZV92YWx1ZTogJzEyJywKICAgICAgc2VsZWN0c190aW1lOiB7CiAgICAgICAgc2ltcGxlOiAnaCcsCiAgICAgICAgZG93bmxvYWRfdGltZV91bml0OiBbewogICAgICAgICAgdmFsdWU6ICdoJywKICAgICAgICAgIGxhYmVsOiAnSGV1cmUocyknCiAgICAgICAgfSwgewogICAgICAgICAgdmFsdWU6ICdkJywKICAgICAgICAgIGxhYmVsOiAnSm91cihzKScKICAgICAgICB9LCB7CiAgICAgICAgICB2YWx1ZTogJ3cnLAogICAgICAgICAgbGFiZWw6ICdTZW1haW5lKHMpJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHNlbGVjdHNfbG9jYXRpb246IHsKICAgICAgICBzaW1wbGU6ICIiLAogICAgICAgIGRvd25sb2FkX2xvY2F0aW9uX3VuaXQ6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLnNlbGVjdHNfbG9jYXRpb24uc2ltcGxlID0gdGhpcy5sb2NhdGlvblswXS5sb2NhdGlvbjsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubG9jYXRpb24ubGVuZ3RoOyBpKyspIHsKICAgICAgdGhpcy5zZWxlY3RzX2xvY2F0aW9uLmRvd25sb2FkX2xvY2F0aW9uX3VuaXQucHVzaCh7CiAgICAgICAgdmFsdWU6IHRoaXMubG9jYXRpb25baV0ubG9jYXRpb24sCiAgICAgICAgbGFiZWw6IHRoaXMubG9jYXRpb25baV0ucmVhbE5hbWUKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmpzb25fZGF0YSA9IFtdOwogICAgICB0aGlzLmpzb25fZGF0YURMID0gW107CiAgICAgIHRoaXMuanNvbl9kYXRhSGVpID0gW107CiAgICAgIHZhciBxdWVyeURsID0gJ1NFTEVDVCAnOwogICAgICB2YXIgcXVlcnlIZWkgPSAnU0VMRUNUICc7CiAgICAgIHZhciBmaWVsZERsID0gW107CiAgICAgIHZhciBmaWVsZEhlaSA9IFtdOwoKICAgICAgaWYgKHRoaXMuZG93bmxvYWRfdGFyZ2V0X3RlbXBfZGwgIT0gZmFsc2UpIHsKICAgICAgICBmaWVsZERsLnB1c2goJ3BheWxvYWRfZmllbGRzX3RlbXBlcmF0dXJlX3RhcmdldF92YWx1ZScpOwogICAgICB9CgogICAgICBpZiAodGhpcy5kb3dubG9hZF9oZWFkX3RlbXBfZGwgIT0gZmFsc2UpIHsKICAgICAgICBmaWVsZERsLnB1c2goJ3BheWxvYWRfZmllbGRzX3RlbXBlcmF0dXJlX2hlYWRfdmFsdWUnKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZG93bmxvYWRfYmF0dGVyeV9kbCAhPSBmYWxzZSkgewogICAgICAgIGZpZWxkRGwucHVzaChkYl9yZXEuZmllbGRfYmF0dGVyeSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRvd25sb2FkX1JTU0lfZGwgIT0gZmFsc2UpIHsKICAgICAgICBmaWVsZERsLnB1c2goZGJfcmVxLmZpZWxkX3Jzc2kpOwogICAgICB9CgogICAgICBpZiAodGhpcy5kb3dubG9hZF9TTlJfZGwgIT0gZmFsc2UpIHsKICAgICAgICBmaWVsZERsLnB1c2goZGJfcmVxLmZpZWxkX3Nucik7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGREbC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChpICE9IGZpZWxkRGwubGVuZ3RoIC0gMSkgewogICAgICAgICAgcXVlcnlEbCArPSBmaWVsZERsW2ldICsgJywgJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcXVlcnlEbCArPSBmaWVsZERsW2ldOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcXVlcnlEbCArPSAnIEZST00gbXF0dF9jb25zdW1lciB3aGVyZSBcInRvcGljXCI9XCdoZXNfYXllbnQtc25vdy9kZXZpY2VzL2RlY2VudGxhYicgKyAnLScgKyB0aGlzLnNlbGVjdHNfbG9jYXRpb24uc2ltcGxlICsgJy91cFwnJyArICcgQU5EIHRpbWU+bm93KCktJyArIHRoaXMuZG93bmxvYWRfdGltZV92YWx1ZSArIHRoaXMuc2VsZWN0c190aW1lLnNpbXBsZTsKCiAgICAgIGlmICh0aGlzLmRvd25sb2FkX3Nub3dfaGVpZ2h0X2hlaSAhPSBmYWxzZSkgewogICAgICAgIGZpZWxkSGVpLnB1c2goJ3BheWxvYWRfZmllbGRzX1dhdGVySGVpZ2h0TW0nKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZG93bmxvYWRfaHVtaWRpdHlfaGVpICE9IGZhbHNlKSB7CiAgICAgICAgZmllbGRIZWkucHVzaCgncGF5bG9hZF9maWVsZHNfSHVtaWRpdHlTSFQzMCcpOwogICAgICB9CgogICAgICBpZiAodGhpcy5kb3dubG9hZF9iYXR0ZXJ5X2hlaSAhPSBmYWxzZSkgewogICAgICAgIGZpZWxkSGVpLnB1c2goInBheWxvYWRfZmllbGRzX0JhdHRlcnlWIik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRvd25sb2FkX1JTU0lfaGVpICE9IGZhbHNlKSB7CiAgICAgICAgZmllbGRIZWkucHVzaChkYl9yZXEuZmllbGRfcnNzaSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRvd25sb2FkX1NOUl9oZWkgIT0gZmFsc2UpIHsKICAgICAgICBmaWVsZEhlaS5wdXNoKGRiX3JlcS5maWVsZF9zbnIpOwogICAgICB9CgogICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmllbGRIZWkubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgaWYgKF9pICE9IGZpZWxkSGVpLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHF1ZXJ5SGVpICs9IGZpZWxkSGVpW19pXSArICcsICc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHF1ZXJ5SGVpICs9IGZpZWxkSGVpW19pXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHF1ZXJ5SGVpICs9ICcgRlJPTSBtcXR0X2NvbnN1bWVyIHdoZXJlIFwidG9waWNcIj1cJ2hlc19heWVudC1zbm93L2RldmljZXMvaGVpJyArICctJyArIHRoaXMuc2VsZWN0c19sb2NhdGlvbi5zaW1wbGUgKyAnL3VwXCcnICsgJyBBTkQgdGltZT5ub3coKS0nICsgdGhpcy5kb3dubG9hZF90aW1lX3ZhbHVlICsgdGhpcy5zZWxlY3RzX3RpbWUuc2ltcGxlOwoKICAgICAgaWYgKHRoaXMuc2Vuc29yX2RsID09PSB0cnVlICYmIHRoaXMuc2Vuc29yX2hlaSAhPSB0cnVlKSB7CiAgICAgICAgUHJvbWlzZS5hbGwoW3RoaXMuJGluZmx1eENsaWVudC5xdWVyeShxdWVyeURsKV0pLnRoZW4oZnVuY3Rpb24gKHBhcnNlZFJlcykgewogICAgICAgICAgcGFyc2VkUmVzLm1hcChmdW5jdGlvbiAoYXJyKSB7CiAgICAgICAgICAgIGlmIChhcnJbMF0gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgYXJyLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGFycltfaTJdOwoKICAgICAgICAgICAgICAgIF90aGlzLmpzb25fZGF0YS5wdXNoKF90aGlzLmV4cG9ydFRvSnNvbih2YWx1ZSkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2Vuc29yX2hlaSA9PT0gdHJ1ZSAmJiB0aGlzLnNlbnNvcl9kbCAhPSB0cnVlKSB7CiAgICAgICAgUHJvbWlzZS5hbGwoW3RoaXMuJGluZmx1eENsaWVudC5xdWVyeShxdWVyeUhlaSldKS50aGVuKGZ1bmN0aW9uIChwYXJzZWRSZXMpIHsKICAgICAgICAgIHBhcnNlZFJlcy5tYXAoZnVuY3Rpb24gKGFycikgewogICAgICAgICAgICBpZiAoYXJyWzBdICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGFyci5sZW5ndGg7IF9pMysrKSB7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBhcnJbX2kzXTsKCiAgICAgICAgICAgICAgICBfdGhpcy5qc29uX2RhdGEucHVzaChfdGhpcy5leHBvcnRUb0pzb24odmFsdWUpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbnNvcl9oZWkgPT09IHRydWUgJiYgdGhpcy5zZW5zb3JfZGwgPT09IHRydWUpIHsKICAgICAgICB2YXIgcXVlcnkxID0gJ1NlbGVjdCAnICsgZmllbGREbCArICcsICcgKyBmaWVsZEhlaSArICcgRlJPTSBtcXR0X2NvbnN1bWVyIHdoZXJlIFwidG9waWNcIj1cJ2hlc19heWVudC1zbm93L2RldmljZXMvZGVjZW50bGFiJyArICctJyArIHRoaXMuc2VsZWN0c19sb2NhdGlvbi5zaW1wbGUgKyAnL3VwXCcnICsgJyBvciAnICsgJ1widG9waWNcIj1cJ2hlc19heWVudC1zbm93L2RldmljZXMvaGVpJyArICctJyArIHRoaXMuc2VsZWN0c19sb2NhdGlvbi5zaW1wbGUgKyAnL3VwXCcnICsgJyBBTkQgdGltZT5ub3coKS0nICsgdGhpcy5kb3dubG9hZF90aW1lX3ZhbHVlICsgdGhpcy5zZWxlY3RzX3RpbWUuc2ltcGxlOwogICAgICAgIFByb21pc2UuYWxsKFt0aGlzLiRpbmZsdXhDbGllbnQucXVlcnkocXVlcnkxKV0pLnRoZW4oZnVuY3Rpb24gKHBhcnNlZFJlcykgewogICAgICAgICAgcGFyc2VkUmVzLm1hcChmdW5jdGlvbiAoYXJyKSB7CiAgICAgICAgICAgIGlmIChhcnJbMF0gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgYXJyLmxlbmd0aDsgX2k0KyspIHsKICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGFycltfaTRdOwoKICAgICAgICAgICAgICAgIF90aGlzLmpzb25fZGF0YS5wdXNoKF90aGlzLmV4cG9ydFRvSnNvbih2YWx1ZSkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZXhwb3J0VG9Kc29uOiBmdW5jdGlvbiBleHBvcnRUb0pzb24oc2VyaWVDaGFydCkgewogICAgICB2YXIgdG9Kc29uaXNlZCA9IEpTT04uc3RyaW5naWZ5KHNlcmllQ2hhcnQpOwogICAgICB2YXIganNvbmlzZWQgPSBKU09OLnBhcnNlKHRvSnNvbmlzZWQpOwogICAgICByZXR1cm4ganNvbmlzZWQ7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["downloadData.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <card>\n      <div class=\"col-lg-12\">\n        <el-collapse class=\"collapse-info\">\n          <el-collapse-item style=\"background-color: white\" title=\"Exporter les valeurs disponibles\" name=\"1\">\n            <card>\n              <div>\n                <h3>Valeurs à télécharger</h3>\n                <div class=\"row\">\n                  <div class=\"col-lg-2\">\n                    <h4>Emplacement</h4>\n                    <el-select class=\"select-default\" size=\"large\" placeholder=\"Single Select\"\n                               v-model=\"selects_location.simple\">\n                      <el-option v-for=\"option in selects_location.download_location_unit\" class=\"select-default\"\n                                 :value=\"option.value\" :label=\"option.label\" :key=\"option.label\">\n                      </el-option>\n                    </el-select>\n                  </div>\n\n                  <div class=\"col-lg-2\">\n                    <h4>Depuis</h4>\n                    <fg-input placeholder=\"Valeur de temps\" v-model=\"download_time_value\"></fg-input>\n                    <el-select class=\"select-default\" size=\"large\" placeholder=\"Single Select\"\n                               v-model=\"selects_time.simple\">\n                      <el-option v-for=\"option in selects_time.download_time_unit\" class=\"select-default\"\n                                 :value=\"option.value\" :label=\"option.label\" :key=\"option.label\">\n                      </el-option>\n                    </el-select>\n                  </div>\n                </div>\n\n                <br>\n\n                <div class=\"row\">\n                  <div class=\"col-lg-2\">\n                    <h4>Capteurs</h4>\n                  </div>\n                  <div class=\"col-lg-2\" style=\"margin-top: 35px\">\n                    <l-checkbox v-model=\"sensor_dl\">Capteur de température</l-checkbox>\n                  </div>\n                  <div class=\"col-lg-2\" style=\"margin-top: 35px\">\n                    <l-checkbox v-model=\"sensor_hei\">Capteur de hauteur de neige</l-checkbox>\n                  </div>\n                </div>\n\n                <el-collapse class=\"collapse-info\" v-if=\"this.sensor_dl==true\">\n                  <el-collapse-item style=\"background-color: white\" title=\"Capteur de température du sol et de l'air\"\n                                    name=\"1\">\n                    <br><br>\n                    <div class=\"row\" align=\"center\">\n                      <div class=\"col-lg-2\">\n                        <p>Température de l'air</p>\n                        <l-checkbox v-model=\"download_head_temp_dl\"></l-checkbox>\n                      </div>\n                      <div class=\"col-lg-2\">\n                        <p>Température du sol</p>\n                        <l-checkbox v-model=\"download_target_temp_dl\"></l-checkbox>\n                      </div>\n                      <div class=\"col-lg-2\">\n                        <p>Niveau de batterie</p>\n                        <l-checkbox v-model=\"download_battery_dl\"></l-checkbox>\n                      </div>\n                      <div class=\"col-lg-2\">\n                        <p>RSSI </p>\n                        <l-checkbox v-model=\"download_RSSI_dl\"></l-checkbox>\n                      </div>\n                      <div class=\"col-lg-2\">\n                        <p>SNR</p>\n                        <l-checkbox v-model=\"download_SNR_dl\"></l-checkbox>\n                      </div>\n                    </div>\n                    <br><br>\n                  </el-collapse-item>\n                </el-collapse>\n\n                <el-collapse class=\"collapse-info\" v-if=\"this.sensor_hei==true\">\n                  <el-collapse-item style=\"background-color: white\" title=\"Capteur de hauteur de neige et d'humidité\"\n                                    name=\"1\">\n                    <br><br>\n                    <div class=\"row\" align=\"center\">\n                      <div class=\"col-lg-2\">\n                        <p>Hauteur de neige</p>\n                        <l-checkbox v-model=\"download_snow_height_hei\"></l-checkbox>\n                      </div>\n                      <div class=\"col-lg-2\">\n                        <p>Humidité</p>\n                        <l-checkbox v-model=\"download_humidity_hei\"></l-checkbox>\n                      </div>\n                      <div class=\"col-lg-2\">\n                        <p>Niveau de batterie</p>\n                        <l-checkbox v-model=\"download_battery_hei\"></l-checkbox>\n                      </div>\n                      <div class=\"col-lg-2\">\n                        <p>RSSI </p>\n                        <l-checkbox v-model=\"download_RSSI_hei\"></l-checkbox>\n                      </div>\n                      <div class=\"col-lg-2\">\n                        <p>SNR</p>\n                        <l-checkbox v-model=\"download_SNR_hei\"></l-checkbox>\n                      </div>\n                    </div>\n                    <br><br>\n                  </el-collapse-item>\n                </el-collapse>\n\n                <br><br>\n                <div class=\"text-center\">\n                  <l-button type=\"info\" outline=\"\" align=\"center\" @click=\"loadData()\"><b>\n                    1. Valider</b></l-button>\n                  <p></p>\n\n                  <l-button type=\"info\" outline=\"\" align=\"center\" v-if=\"json_data[0]!=undefined\">\n                    <download-csv\n                      :data=\"json_data\">\n                      <b>2. Télécharger</b>\n                    </download-csv>\n                  </l-button>\n\n                </div>\n              </div>\n            </card>\n          </el-collapse-item>\n        </el-collapse>\n      </div>\n    </card>\n  </div>\n</template>\n\n<script>\nimport LCheckbox from \"@/components/Inputs/Checkbox\";\nimport downloadCsv from \"vue-json-csv\";\nimport {Collapse, CollapseItem, Option, Select} from \"element-ui\";\nimport {FormGroupInput as FgInput} from \"@/components/index\";\nimport db_req from \"@/constants/influx_requests.json\";\n\nexport default {\n  name: \"downloadData\",\n  components: {LCheckbox},\n  component: {\n    downloadCsv,\n    [Collapse.name]: Collapse,\n    [CollapseItem.name]: CollapseItem,\n    LCheckbox, FgInput,\n    [Select.name]: Select,\n    [Option.name]: Option\n  },\n  props : {\n    location : Array\n  },\n  data() {\n    return {\n\n\n      sensorState: '',                 //state of the sensors\n      sensors: [],                     //array contain all sensors basics data\n      json_data: [],                   //json array for export and download part\n\n      // Download all data decentlab\n      sensor_dl: false,\n      download_head_temp_dl: false,                  //checkbox values\n      download_target_temp_dl: false,                //\n      download_battery_dl: false,                    //\n      download_RSSI_dl: false,                       //\n      download_SNR_dl: false,                        //\n\n      //Download all data hei\n      sensor_hei: false,\n      download_snow_height_hei: false,                  //checkbox values\n      download_humidity_hei: false,                //\n      download_battery_hei: false,                    //\n      download_RSSI_hei: false,                       //\n      download_SNR_hei: false,                        //\n\n      download_time_value: '12',                  //input value\n      selects_time: {                                  //input selector\n        simple: 'h',\n        download_time_unit: [\n          {value: 'h', label: 'Heure(s)'},\n          {value: 'd', label: 'Jour(s)'},\n          {value: 'w', label: 'Semaine(s)'},\n        ]\n      },\n      selects_location: {                         //input selector\n        simple: \"\",\n        download_location_unit: [\n        ]\n      },\n\n\n    }\n  },\n  beforeMount() {\n    this.selects_location.simple = this.location[0].location\n    // set the select component with the values taken in the json file\n    for(var i = 0 ; i< this.location.length;i++){\n      this.selects_location.download_location_unit.push(\n        {\n          value : this.location[i].location, label: this.location[i].realName\n        })\n    }\n  },\n\n\n  methods: {\n    loadData: function () {\n      this.json_data = [];\n      this.json_dataDL = [];\n      this.json_dataHei = [];\n\n      let queryDl = 'SELECT '\n      let queryHei = 'SELECT '\n\n      let fieldDl = [];\n      let fieldHei = [];\n      if (this.download_target_temp_dl != false) {\n        fieldDl.push('payload_fields_temperature_target_value')\n      }\n      if (this.download_head_temp_dl != false) {\n        fieldDl.push('payload_fields_temperature_head_value')\n      }\n      if (this.download_battery_dl != false) {\n        fieldDl.push(db_req.field_battery)\n      }\n      if (this.download_RSSI_dl != false) {\n        fieldDl.push(db_req.field_rssi)\n      }\n      if (this.download_SNR_dl != false) {\n        fieldDl.push(db_req.field_snr)\n      }\n      /*\n        for loop to create the query field with the checkbox values\n      */\n      for (let i = 0; i < fieldDl.length; i++) {\n        if (i != fieldDl.length - 1) {\n          queryDl += fieldDl[i] + ', '\n        } else {\n          queryDl += fieldDl[i]\n        }\n      }\n      queryDl += ' FROM mqtt_consumer where \\\"topic\\\"=\\'hes_ayent-snow/devices/decentlab' + '-' + this.selects_location.simple + '/up\\'' +\n        ' AND time>now()-' + this.download_time_value + this.selects_time.simple\n\n      if (this.download_snow_height_hei != false) {\n        fieldHei.push('payload_fields_WaterHeightMm')\n      }\n      if (this.download_humidity_hei != false) {\n        fieldHei.push('payload_fields_HumiditySHT30')\n      }\n      if (this.download_battery_hei != false) {\n        fieldHei.push(\"payload_fields_BatteryV\")\n      }\n      if (this.download_RSSI_hei != false) {\n        fieldHei.push(db_req.field_rssi)\n      }\n      if (this.download_SNR_hei != false) {\n        fieldHei.push(db_req.field_snr)\n      }\n      /*\n      for loop to create the query field with the checkbox values\n    */\n      for (let i = 0; i < fieldHei.length; i++) {\n        if (i != fieldHei.length - 1) {\n          queryHei += fieldHei[i] + ', '\n        } else {\n          queryHei += fieldHei[i]\n        }\n      }\n      queryHei += ' FROM mqtt_consumer where \\\"topic\\\"=\\'hes_ayent-snow/devices/hei' + '-' + this.selects_location.simple + '/up\\'' +\n        ' AND time>now()-' + this.download_time_value + this.selects_time.simple\n\n\n      //       console.log(\"query dl\")\n      //       console.log(queryDl)\n      //       console.log(\"query hei\")\n      //       console.log(queryHei)\n\n      /**\n       * promise part : 3 possibility\n       * 1. one query for dl\n       * 2. one query for hei\n       * 3. query for both -> 2 different query\n       */\n      if (this.sensor_dl === true && this.sensor_hei != true) {\n        Promise.all([\n          this.$influxClient.query(queryDl)\n        ]).then(parsedRes => {\n          parsedRes.map(arr => {\n            if (arr[0] != undefined) {\n              for (let i = 0; i < arr.length; i++) {\n                let value = arr[i]\n                this.json_data.push(this.exportToJson(value))\n\n              }\n            }\n          });\n        }).catch(error => console.log(error))\n\n      } else if (this.sensor_hei === true && this.sensor_dl != true) {\n        Promise.all([\n          this.$influxClient.query(queryHei)\n        ]).then(parsedRes => {\n          parsedRes.map(arr => {\n            if (arr[0] != undefined) {\n              for (let i = 0; i < arr.length; i++) {\n                let value = arr[i]\n                this.json_data.push(this.exportToJson(value))\n\n              }\n            }\n          });\n        }).catch(error => console.log(error))\n      } else if (this.sensor_hei === true && this.sensor_dl === true) {\n        let query1 = 'Select ' + fieldDl + ', ' + fieldHei + ' FROM mqtt_consumer where \\\"topic\\\"=\\'hes_ayent-snow/devices/decentlab' + '-' + this.selects_location.simple + '/up\\'' +\n          ' or ' + '\\\"topic\\\"=\\'hes_ayent-snow/devices/hei' + '-' + this.selects_location.simple + '/up\\'' +\n          ' AND time>now()-' + this.download_time_value + this.selects_time.simple\n\n        Promise.all([\n          this.$influxClient.query(query1)\n        ]).then(parsedRes => {\n          parsedRes.map(arr => {\n            if (arr[0] != undefined) {\n              for (let i = 0; i < arr.length; i++) {\n                let value = arr[i]\n                this.json_data.push(this.exportToJson(value))\n              }\n            }\n          });\n\n        }).catch(error => console.log(error))\n      }\n    },\n\n    /**\n     * to Json array\n     * @param serieChart\n     * @returns {any}\n     */\n    exportToJson: function (serieChart) {\n      let toJsonised = JSON.stringify(serieChart)\n      let jsonised = JSON.parse(toJsonised)\n      return jsonised\n    },\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/components"}]}